# 后台管理端设计（Web Admin）

## 技术栈
- Vite + Vue 3 + TypeScript
- Element Plus（或 Arco Design）
- Pinia（状态） + Vue Router
- Axios（拦截器 + 统一错误处理）
- ECharts（可视化）
- openapi-typescript-codegen（生成 API SDK）

## 目录结构
```
src
 ├─ api/             # OpenAPI 生成的 SDK（只读）
 ├─ assets/
 ├─ components/
 ├─ layouts/
 ├─ pages/
 │   ├─ user/
 │   ├─ member/
 │   ├─ points/
 │   ├─ goods/
 │   ├─ package/
 │   ├─ order/
 │   ├─ wallet/
 │   ├─ balance/
 │   ├─ inventory/
 │   ├─ campaign/
 │   ├─ floor/
 │   ├─ seat/
 │   ├─ stats/
 │   ├─ permission/
 │   └─ settings/
 ├─ router/
 ├─ stores/
 ├─ utils/
 ├─ hooks/
 └─ styles/         # 设计系统 token 映射（CSS Vars）
```

## 路由与权限
- 路由表由服务端返回（角色包含菜单与按钮权限 key）
- 前端根据权限 key 控制菜单/按钮显隐
- 未授权时跳转 403；未登录跳转登录页

## 状态管理
- `authStore`：token、用户信息、权限
- `appStore`：主题、语言、布局
- 各模块子 store：查询条件、表格分页状态缓存

## 组件规范
- 列表页统一：查询区（折叠）+ 表格 + 分页 + 批量操作
- 表单：分组/校验信息提示，提交前去抖；支持草稿
- 表格：列「显示/隐藏」配置可持久化到本地

## API 约定
- 仅使用 POST；统一 Response 包装
- 分页接口固定 `/listPage`，全量 `/listAll`
- 动态条件查询：查询表单字段直传后端 QueryDTO
- Axios 拦截器：注入 token；统一异常与重登

## 代码风格
- TypeScript 严格模式；组件文件小于 300 行
- 组合式 API；避免深层级嵌套
- 命名：组件名大驼峰，变量/函数小驼峰；含义明确

— 完 —