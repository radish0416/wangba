# 数据库设计 - 汇总（v3）

- 说明：此文档汇总各模块表结构，按域划分；各模块下的 `db.sql` 为可直接执行的建表语句（MySQL 8）。
- 统一约定：
  - 主键类型优先 BIGINT（雪花ID），时间字段 `created_time` `updated_time`
  - 逻辑删除使用 `is_deleted`（如需）
  - 索引以查询场景驱动，常见索引：`idx_user_time`、`uk_*` 等

## 模块清单与链接
- 用户：`../modules/user/db.sql`
- 会员：`../modules/member/db.sql`
- 积分：`../modules/points/db.sql`
- 商品：`../modules/goods/db.sql`
- 套餐：`../modules/package-套餐/db.sql`
- 订单：`../modules/order/db.sql`
- 钱包：`../modules/wallet/db.sql`
- 余额与消费记录：`../modules/balance/db.sql`
- 库存耗材：`../modules/inventory-耗材/db.sql`
- 活动：`../modules/campaign/db.sql`
- 楼层与区域：`../modules/floor/db.sql`
- 机位：`../modules/seat/db.sql`
- 支付对接：`../modules/pay-bridge/db.sql`
- 设备对接：`../modules/device-bridge/db.sql`
- 认证与权限：`../modules/auth/db.sql`
- 权限扩展：`../modules/permission/db.sql`
- 基础服务：`../modules/base-service/db.sql`

## 依赖关系（简要）
- `order` -> `wallet_txn`/`pay_transaction`（支付） -> `consume_record`
- `user` -> `member_user`/`points_account`/`wallet_account`
- `seat` -> `device_action_log`（控制日志）
- `goods` -> `goods_sku`；`package` -> `package_benefit`

— 完 —